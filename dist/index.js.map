{"version":3,"sources":["index.js"],"names":["require","bot","builder","greeting","routes","updateConversationData","updateUserData","dialog","session","send","Prompts","text","response","name","replaceDialog","fromFirstRun","userData","choice","results","isApp","index","type","beginDialog","app","newOrExisting"],"mappings":";;AAAA;;eAEgBA,QAAQ,cAAR,C;;MAARC,G,YAAAA,G;;AACR,MAAMC,UAAUF,QAAQ,YAAR,CAAhB;AACA,MAAMG,WAAWH,QAAQ,gBAAR,CAAjB;AACA,MAAMI,SAASJ,QAAQ,UAAR,CAAf;AACA,MAAMK,yBAAyBL,QAAQ,8BAAR,CAA/B;AACA,MAAMM,iBAAiBN,QAAQ,sBAAR,CAAvB;;AAEAC,IAAIM,MAAJ,CAAW,WAAX,EAAwB,CACtBC,WAAW;AACTA,UAAQC,IAAR,CAAaN,SAASK,OAAT,CAAb;AACAN,UAAQQ,OAAR,CAAgBC,IAAhB,CAAqBH,OAArB,EAA8B,uCAA9B;AACD,CAJqB,EAKtB,CAACA,OAAD,EAAU,EAAEI,UAAUC,IAAZ,EAAV,KAAiC;AAC/BP,iBAAeE,OAAf,EAAwB,EAAEK,IAAF,EAAxB;AACAL,UAAQC,IAAR,CAAc,wBAAuBI,IAAK,GAA1C;AACAL,UAAQM,aAAR,CAAsB,GAAtB,EAA2B,IAA3B;AACD,CATqB,CAAxB;;AAYAb,IAAIM,MAAJ,CAAW,GAAX,EAAgB,CACd,CAACC,OAAD,EAAUO,YAAV,KAA2B;AACzB,MAAI,CAACA,YAAL,EAAmB;AACjBP,YAAQC,IAAR,CAAc,2BAA0BD,QAAQQ,QAAR,CAAiBH,IAAK,GAA9D;AACD;AACDX,UAAQQ,OAAR,CAAgBO,MAAhB,CAAuBT,OAAvB,EAAgC,qCAAhC,EAAuE,CAAC,KAAD,EAAQ,KAAR,CAAvE;AACD,CANa,EAOd,CAACA,OAAD,EAAUU,OAAV,KAAsB;AACpB,QAAMC,QAAQD,QAAQN,QAAR,CAAiBQ,KAAjB,KAA2B,CAAzC;AACAf,yBAAuBG,OAAvB,EAAgC,EAAEa,MAAMF,QAAQ,KAAR,GAAgB,KAAxB,EAAhC;AACAX,UAAQc,WAAR,CAAoBH,QAAQf,OAAOmB,GAAP,CAAWC,aAAnB,GAAmCpB,OAAOH,GAAP,CAAWuB,aAAlE;AACD,CAXa,CAAhB","file":"index.js","sourcesContent":["import './hooks';\n\nconst { bot } = require('./initialize');\nconst builder = require('botbuilder');\nconst greeting = require('./lib/greeting');\nconst routes = require('./routes');\nconst updateConversationData = require('./lib/updateConversationData');\nconst updateUserData = require('./lib/updateUserData');\n\nbot.dialog('/firstRun', [\n  session => {\n    session.send(greeting(session));\n    builder.Prompts.text(session, 'Hey! I\\'m MakeBot. What\\'s your name?');\n  },\n  (session, { response: name }) => {\n    updateUserData(session, { name });\n    session.send(`So nice to meet you, ${name}!`);\n    session.replaceDialog('/', true);\n  },\n]);\n\nbot.dialog('/', [\n  (session, fromFirstRun) => {\n    if (!fromFirstRun) {\n      session.send(`Great to see you again, ${session.userData.name}!`);\n    }\n    builder.Prompts.choice(session, 'Are you working on an app or a bot?', ['app', 'bot']);\n  },\n  (session, results) => {\n    const isApp = results.response.index === 0;\n    updateConversationData(session, { type: isApp ? 'app' : 'bot' });\n    session.beginDialog(isApp ? routes.app.newOrExisting : routes.bot.newOrExisting);\n  },\n]);\n"]}